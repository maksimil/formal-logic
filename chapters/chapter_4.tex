\part{*Естественная дедукция}

Данная глава не обязательная к прочтению, но очень полезна.
В ней будет описана и использованна новая, более точно определённая
формальная система. В конце на основе ZFC будет доказана следующая теорема:
\[
	(A=\{a\})\implies [(\forall B\subseteq A)~(B=\varnothing)\lor (B=A)]
\]

\section{Диаграммы Фитча}

В рассуждениях мы будем пользоваться {\it диаграммами Фитча}:

\begin{figure*}
	\centering
	\begin{subfigure}{0.3\textwidth}
		\[
			\begin{nd}
				\hypo{1}{A}
				\have{2}{B_1}
				\have[\vdots]{}{\vdots}
				\have[n+1]{3}{B_{n}}
				\have[n+2]{4}{C}
			\end{nd}
		\]
		\caption{Диаграмма фитча}\label{fig:ex_diagram}
	\end{subfigure}
	\hfill
	\begin{subfigure}{0.3\textwidth}
		\[
			\begin{nd}
				\hypo{1}{A}
				\open
				\hypo{2}{A'}
				\have[\vdots]{a}{\vdots}
				\have[n]{3}{C}
				\close
				\have{4}{A'\implies C}
			\end{nd}
		\]
		\caption{Поддоказательство}\label{fig:ex_subproof}
	\end{subfigure}
	\hfill
	\begin{subfigure}{0.3\textwidth}
		\[
			\begin{nd}
				\hypo{1}{A}
				\open[t]
				\hypo{}{}
				\have[\vdots]{a}{\vdots}
				\have[n]{3}{Q(t)}
				\close
				\have{4}{(\forall x)~Q(x)}
			\end{nd}
		\]
		\caption{Введение переменной}\label{fig:ex_var_intro}
	\end{subfigure}
	\caption{Диаграммы фитча}\label{fig:ex_diagrams}
\end{figure*}

На рис.~\ref{fig:ex_diagrams}(a) $A$ называется {\it предположением},
строки $2$-$(n+2)$ --- {\it рассуждением},
а $C$ --- {\it заключением}. Такая диаграмма также называется
{\it диаграммой из $A$ в $C$} или {\it доказательством из $A$ в $C$}.

Диаграммы фитча также допускают {\it поддоказательства}.
На рис.~\ref{fig:ex_diagrams}(b)
во второй строке предполагается $A'$, чтобы вывести $C$ и заключить
${A'\implies C}$\footnote{Правило, по которому это возможно будет введено позже.}.

Для рассуждений с кванторами часто нужно вводить новые переменные.
На рис.~\ref{fig:ex_diagrams}(c) во второй строке вводится произвольная переменная $t$.
Строка с предположением не
обязана быть пустой, но для $(\forall x)Q(x)$ нужно вывести $Q(t)$
для произвольного $t$\footnote{
	Более точно это правило вывода будет сформулировано позже.}.

{\it Область видимости} переменной, формулы или поддоказательства $A$ ---
доказательство\footnote{
	Или поддоказательство. Далее под словом ``доказательство'' будет подразумеваться
	``доказательство или поддоказательство''.}, где $A$ написано,
и поддоказательства этого доказательства. $A$ {\it находится
		в области видимости} $B$, если область видимости $B$
содержится в области видимости $A$.
Совокупность $A_1,A_2,...,A_{n}$ {\it находится в одной области видимости},
если в ней существует такой $A_{i}$, что все члены совокупности находятся в
области видимости $A_{i}$. В таком случае {\it совокупность находится в области
видимости} $A_{i}$.

На рис.~\ref{fig:ex_diagrams}(b) область видимости $A'$ и $C$ --- строки $2$-$n$,
а $A$, (${A'\implies C}$) и доказательства $2$-$n$ --- строки $1$-$(n+1)$.
$A$ и $A'$ находятся в одной области видимости --- области видимости $A'$.

\section{Правила вывода}

\newcommand\figsep{0cm}
\begin{marginfigure}
	\[
		\begin{nd}
			\have{1}{B}
			\have{2}{A}
			\have{3}{A\land B} \ai{1,2}
		\end{nd}
	\]

	\caption{Пример использования правила $A,B\vdash A\land B$.}\label{fig:ex_ai}
\end{marginfigure}

\begin{marginfigure}[\figsep]
	\[
		\begin{nd}
			\open
			\hypo{1}{A}
			\have{}{...}
			\have{2}{C}
			\close
			\have{}{A\implies C}\ii{1-2}
		\end{nd}
	\]

	\caption{Пример использования правила ${[A\vdash C]\vdash (A\implies C)}$.}
	\label{fig:ex_ii}
\end{marginfigure}

\begin{marginfigure}[\figsep]
	\[
		\begin{nd}
			\have{1}{\exists x:P(x)}
			\open[u]
			\hypo{2}{P(u)}
			\have{}{...}
			\have{3}{C}
			\close
			\have{4}{C}\Ee{1,2-3}
		\end{nd}
	\]

	\caption{Пример использования правила ${[\exists x:P(x)],[u;P(u)\vdash C]\vdash C}$.}
	\label{fig:ex_Ee}
\end{marginfigure}

\begin{marginfigure}[\figsep]
	\[
		\begin{nd}
			\have{1}{S}	\by{AI}{}
		\end{nd}
	\]

	\caption{Пример использования правила $\vdash S$, где $S$ --- аксиома.}
	\label{fig:ex_xi}
\end{marginfigure}

Начнём построение формальной системы. Алфавит уже определён, но также введём
в него способ построения диаграм.

Если $A$, $B$ --- формулы, $\gamma$ --- переменная,
а $K$ --- квантор, то выражения ${A\implies B}$, $A\land B$, $A\lor B$, $\lnot A$,
$K\gamma A$, $A=B$ --- формулы.
Диаграммы Фитча и $\bot$ тоже формулы.

Правило вывода: $A\vdash T$, если можно построить диаграмму,
предполагающую $A$ и заключающую $T$.

Пусть $\mathcal A$ --- совокупность формул. Если $\mathcal A$ находится
в одной области видимости и $\mathcal A\vdash B$,
то можно добавить строку $B$ в эту область видимости.
Если $T$ выводимо без предположений
(обозначается как $\vdash T$),
то в диаграмму можно добавить строку $T$ в произвольную область видимости.

Введём правила вывода.
Для символов будут введены правила введения и исключения.
При использовании правил справа пишется
название правила и какие строки использованы. Для краткости обозначим с помощью
$[A\vdash B]$ диаграмму из $A$ в $B$ (рис.~\ref{fig:ex_ii}),
а с помощью ${[t;A\vdash B]}$ ---
диаграмму из $A$ в $B$, вводящее переменную $t$ (рис.~\ref{fig:ex_Ee}).
Мы можем использовать $\vdash$, чтобы обозначить выводимость и
существование диаграммы, потому что в данной формальной ситеме это взаимозаменяемые
понятия.

Ниже предоставлен полный список правил. Примеры их использования
можно увидеть на рис.~\ref{fig:ex_ai},\ref{fig:ex_ii},\ref{fig:ex_Ee},\ref{fig:ex_xi}.

\hspace{-0.7cm}
\begin{tabular}{rl|rl}
	($\Rightarrow$I) & $[A\vdash B]\vdash (A\implies B)$           &
	($\Rightarrow$E) & $A,(A\implies B)\vdash B$                     \\
	($\land$I)       & $A,B\vdash A\land B$                        &
	($\land$E)       & $A\land B\vdash A$ или $A\land B\vdash B$     \\
	($\lor$I)        & $A\vdash A\lor B$ или $B\vdash A\lor B$     &
	($\lor$E)        & $[A\lor B],[A\vdash C],[B\vdash C]\vdash C$   \\
	($\lnot$I)       & $[A\vdash\bot]\vdash \lnot A$               &
	($\lnot$E)       & $[\lnot A\vdash\bot]\vdash A$                 \\
	($\bot$I)        & $A,\lnot A\vdash \bot$                      &
	($\bot$E)        & $\bot\vdash A$                                \\
	($\forall$I)     & $[t;\vdash P(t)]\vdash (\forall x)P(x)$     &
	($\forall$E)     & $(\forall x)P(x)\vdash P(t)$                  \\
	($\exists$I)     & $P(t)\vdash [\exists x:P(x)]$               &
	($\exists$E)     & $[\exists x:P(x)],[t;P(t)\vdash C]\vdash C$   \\
	($=$I)           & $\vdash V=V$                                &
	($=$E)           & $[u=v],P(u)\vdash P(v)$                       \\
	(AI)             & $\vdash S$                                  &
	                 & или $[u=v], P(v)\vdash P(u)$                  \\
\end{tabular}

\newcommand\bi[1]{\by{$\bot$I}{#1}}
где $A$, $B$ --- формулы, $P(x)$ --- шаблон формулы\footnote{
	То есть $P(y)$ --- та же формула $P(x)$, но вместо всех $x$ стоят $y$.
}, $S$ --- аксиома,
$t$, $u$, $v$ --- переменные, $V$ --- такое выражение, что $V=V$ --- формула.
Под ``или'' имеется в виду, что одним символом обозначаются
два правила.
В качестве примера докажем правило R: $A\vdash A$ и применим его
для доказательства $A\vdash (B\implies A)$.
\[
	\begin{array}{l|l}
		\begin{nd}
			\hypo{1}{A}
			\open
			\hypo{2}{\lnot A}
			\have{3}{\bot}\bi{1,2}
			\close
			\have{4}{A}\ne{2-3}
		\end{nd} &
		\begin{nd}
			\hypo{1}{A}
			\open
			\hypo{2}{B}
			\have{3}{A}\r{1}
			\close
			\have{4}{B\implies A}\ii{2-3}
		\end{nd}
	\end{array}
\]

Для проверки
достаточно проверить, правильно ли применены правила в каждой строке.

Докажем закон исключённого третьего (EM): $\vdash A\lor \lnot A$.
\[
	\begin{nd}
		\hypo{}{\qquad\qquad}
		\open
		\hypo{1}{\lnot(A\lor\lnot A)}
		\open
		\hypo{2}{A}
		\have{3}{A\lor \lnot A}\oi{2}
		\have{4}{\bot}\bi{1,3}
		\close
		\have{5}{\lnot A}\ni{2-4}
		\have{6}{A\lor\lnot A}\oi{5}
		\have{7}{\bot}\bi{1,6}
		\close
		\have{8}{A\lor\lnot A}\ne{1-7}
	\end{nd}
\]

Пусть $\top:=\lnot\bot$. Для завершения построения формальной системы
введём аксиому: $\top$. Если $\vdash T$, то и $\top\vdash T$,
тогда $T$ --- теорема. Заметим также, что благодаря правилу AI для всякой
теоремы $T$ справедливо $\vdash T$.

Докажем
$(\forall x)P(x)\vdash\lnot[\exists x:\lnot P(x)]$\footnote{Вспомните
	первое доказательство в этой книге и сравните словесные рассуждения с
	диаграммой Фитча.

	Из диаграммы можно получить и сами словесные рассуждения:
	\begin{enumerate}[label=(\arabic*)]
		\item{}Предположим $(\forall x)P(x)$.\label{enum:1}
		\item{}Предположим $\exists x:\lnot P(x)$.\label{enum:2}
		\item{}Для произвольного $t$ предположим $\lnot P(t)$.\label{enum:3}
		\item{}По $\forall$E, \ref{enum:1}: $P(t)$.\label{enum:4}
		\item{}По $\bot$I, \ref{enum:3} и \ref{enum:4}: $\bot$.\label{enum:5}
		\item{}По $\exists$E, \ref{enum:2}, \ref{enum:3}-\ref{enum:5}: $\bot$.\label{enum:6}
		\item{}По $\lnot$I, \ref{enum:2}-\ref{enum:6}: $\lnot[\exists x:\lnot P(x)]$.\qed
	\end{enumerate}

	Их можно привести к более человеческому виду и получить доказательство на
	с.~\pageref{wordproof}.
}.
\[
	\begin{nd}
		\hypo{1}{(\forall x)P(x)}
		\open
		\hypo{2}{\exists x:\lnot P(x)}
		\open[t]
		\hypo{3}{\lnot P(t)}
		\have{4}{P(t)}\Ae{1}
		\have{5}{\bot}\bi{3,4}
		\close
		\have{6}{\bot}\Ee{2,3-5}
		\close
		\have{7}{\lnot[\exists x:\lnot P(x)]}\ni{2-6}
	\end{nd}
\]

{\it Упражнения:}
\begin{enumerate}
	\item{}Обосновать словесно правила вывода. Почему такая система называется
	естественной дедукцией?
	\item{}Какие утверждения будут теоремами, если $\bot$ --- аксиома?
	\item{}Определить области видимости для формул $A$, $\lnot A$, $A\lor\lnot A$
	и $\lnot(A\lor\lnot A)$ в доказательстве $\vdash A\lor\lnot A$.
	\item{}*Доказать $\bot$E, используя остальные правила.
	\pagebreak
	\item{}*Доказать правила:
	\begin{multicols}{2}
		\begin{enumerate}
			\item[($\lnot\land$)]{}$\lnot(A\land B)\vdash \lnot A\lor \lnot B$
			\item[($\lnot\lor$)]{}$\lnot(A\lor B)\vdash \lnot A\land \lnot B$
			\item[($\land\lnot$)]{}$\lnot A\land\lnot B\vdash \lnot(A\lor B)$
			\item[($\lor\lnot$)]{}$\lnot A\lor\lnot B\vdash \lnot(A\land B)$
			\item[($\lnot\forall$)]{}$\lnot[(\forall x)P(x)]\vdash\exists x:\lnot P(x)$
			\item[($\lnot\exists$)]{}$\lnot[\exists x:P(x)]\vdash (\forall x)\lnot P(x)$
			\item[($\forall\lnot$)]{}$(\forall x)\lnot P(x)\vdash \lnot[\exists x:P(x)]$
			\item[($\exists\lnot$)]{}$\exists x:\lnot P(x)\vdash \lnot[(\forall x)P(x)]$
		\end{enumerate}
	\end{multicols}
\end{enumerate}

{\it Решение упражнения 5:}
\[
	\begin{array}{l|l}
		\lnot(A\land B)\vdash \lnot A\lor\lnot B      &
		\lnot(A\lor B)\vdash \lnot A\land \lnot B       \\
		\begin{nd}
			\hypo{1}{\lnot(A\land B)}
			\have{2}{A\lor \lnot A}\by{EM}{}
			\open
			\hypo{3}{\lnot A}
			\have{4}{\lnot A\lor\lnot B}\oi{3}
			\close
			\open
			\hypo{5}{A}
			\open
			\hypo{6}{B}
			\have{7}{A\land B}\ai{5,6}
			\have{8}{\bot}\bi{1,7}
			\close
			\have{9}{\lnot B}\ni{6-8}
			\have{10}{\lnot A\lor \lnot B}\oi{9}
			\close
			\have{11}{\lnot A\lor \lnot B}\oe{2,3-4,5-10}
		\end{nd} &
		\begin{nd}
			\hypo{1}{\lnot(A\lor B)}
			\open
			\hypo{2}{A}
			\have{3}{A\lor B}\oi{2}
			\have{4}{\bot}\bi{1,3}
			\close
			\have{5}{\lnot A}\ni{2-4}
			\open
			\hypo{6}{B}
			\have{7}{A\lor B}\oi{6}
			\have{8}{\bot}\bi{1,7}
			\close
			\have{9}{\lnot B}\ni{6-8}
			\have{10}{\lnot A\land \lnot B}\ai{5,9}
		\end{nd}          \\\hline
		\lnot A\land\lnot B\vdash \lnot(A\lor B)      &
		\lnot A\lor\lnot B\vdash \lnot(A\land B)        \\
		\begin{nd}
			\hypo{1}{\lnot A\land\lnot B}
			\open
			\hypo{2}{A\lor B}
			\open
			\hypo{3}{A}
			\have{4}{\lnot A}\ae{1}
			\have{5}{\bot}\bi{3,4}
			\close
			\open
			\hypo{6}{B}
			\have{7}{\lnot B}\ae{1}
			\have{8}{\bot}\bi{6,7}
			\close
			\have{9}{\bot}\oe{2,3-5,6-8}
			\close
			\have{10}{\lnot(A\lor B)}\ni{2-9}
		\end{nd}             &
		\begin{nd}
			\hypo{1}{\lnot A\lor\lnot B}
			\open
			\hypo{2}{A\land B}
			\open
			\hypo{3}{\lnot A}
			\have{4}{A}\ae{2}
			\have{5}{\bot}\bi{3,4}
			\close
			\open
			\hypo{6}{\lnot B}
			\have{7}{B}\ae{2}
			\have{8}{\bot}\bi{6,7}
			\close
			\have{9}{\bot}\oe{1,3-5,6-8}
			\close
			\have{10}{\lnot (A\land B)}\ni{2-9}
		\end{nd}
	\end{array}
\]
\[
	\begin{array}{l|l}
		\lnot[(\forall x)P(x)]\vdash \exists x:\lnot P(x) &
		\lnot[\exists x:P(x)]\vdash (\forall x)\lnot P(x)   \\
		\begin{nd}
			\hypo{1}{\lnot[(\forall x)P(x)]}
			\open
			\hypo{2}{\lnot[\exists x:\lnot P(x)]}
			\open[t]
			\hypo{3}{}
			\open
			\hypo{7}{\lnot P(t)}
			\have{8}{\exists x:\lnot P(x)}\Ei{7}
			\have{9}{\bot}\bi{2,8}
			\close
			\have{11}{P(t)}\ne{7-9}
			\close
			\have{12}{(\forall x)P(x)}\Ai{3-11}
			\have{13}{\bot}\bi{1,12}
			\close
			\have{14}{\exists x:\lnot P(x)}\ne{2-13}
		\end{nd}          &
		\begin{nd}
			\hypo{1}{\lnot[\exists x:P(x)]}
			\open[t]
			\hypo{2}{}
			\open
			\hypo{3}{P(t)}
			\have{4}{\exists x:P(x)}\Ei{3}
			\have{5}{\bot}\bi{1,4}
			\close
			\have{6}{\lnot P(t)}\ni{3-5}
			\close
			\have{6}{(\forall x)\lnot P(x)}\Ai{2-6}
		\end{nd}              \\\hline
		(\forall x)\lnot P(x)\vdash \lnot[\exists x:P(x)] &
		\exists x:\lnot P(x)\vdash \lnot[(\forall x)P(x)]   \\
		\begin{nd}
			\hypo{1}{(\forall x)\lnot P(x)}
			\open
			\hypo{2}{\exists x:P(x)}
			\open[t]
			\hypo{3}{P(t)}
			\have{4}{\lnot P(t)}\Ae{1}
			\have{5}{\bot}\ni{3,4}
			\close
			\have{6}{\bot}\Ee{2,3-5}
			\close
			\have{7}{\lnot[\exists x:P(x)]}\ni{2-6}
		\end{nd}         &
		\begin{nd}
			\hypo{1}{\exists x:\lnot P(x)}
			\open
			\hypo{2}{(\forall x)P(x)}
			\open[t]
			\hypo{3}{\lnot P(t)}
			\have{4}{P(t)}\Ae{2}
			\have{5}{\bot}\bi{3,4}
			\close
			\have{6}{\bot}\Ee{1,3-5}
			\close
			\have{7}{\lnot[(\forall x)P(x)]}\ni{2-6}
		\end{nd}
	\end{array}
\]

{\it Решение упражнения 4:}
\[
	\begin{array}{l}
		\bot\vdash A \\
		\begin{nd}
			\hypo{1}{\bot}
			\open
			\hypo{2}{\lnot A}
			\have{3}{\bot}\r{1}
			\close
			\have{4}{A}\ne{2-3}
		\end{nd}
	\end{array}
\]

\pagebreak

\section{Равенство}

На данный момент законы $=$I и $=$E немного бесполезны. Они могут пригодиться, разве что,
только для доказательств некоторых утверждений с ``$=$''.

\newcommand\ruleEquiv{\Leftrightarrow}
Введём новое обозначение: ${(A\iff B):=(A\implies B)\land (B\implies A)}$,
где $S:=T$ означает ``введём аксиому $S=T$''\footnote{
	Новые обозначения обычно вводятся аксиомами.
}.
Из определения выводимы правила:

\hspace{-0.7cm}
\begin{tabular}{rl|rl}
	($\ruleEquiv_1$)                  & $(A\iff B)\dashv~\vdash
	(A\implies B)\land (B\implies A)$ &
	($\ruleEquiv_3$)                  & $[A\iff B],B\vdash A$	\\
	($\ruleEquiv_2$)                  & $[A\implies B],[B\implies A]\vdash (A\iff B)$ &
																		& или $[A\iff B], A\vdash B$
\end{tabular}

где $A\dashv~\vdash B$ означает $A\vdash B$ и $B\vdash A$.

Введём аксиому $L_1$:
\[
	(A\iff B)\implies A=B
\]

Из неё напрямую следуют законы $=_{L 1}$ и $=_{L 2}$:
\[
	\begin{array}{l|l}
		(=_{L 1})~[A\iff B]\vdash A=B                   &
		(=_{L 2})~[A\implies B],[B\implies A]\vdash A=B   \\
		\begin{nd}
			\hypo{1}{A\iff B}
			\have{2}{(A\iff B)\implies A=B}\by{AI, $L_1$}{}
			\have{3}{A=B}\ie{1,2}
		\end{nd} &
		\begin{nd}
			\hypo{1}{A\implies B}
			\hypo{2}{B\implies A}
			\have{3}{A\iff B}\by{$\ruleEquiv_2$}{1,2}
			\have{4}{A=B}\by{$=_{L 1}$}{3}
		\end{nd}
	\end{array}
\]

Примеры доказательств:
\[
	\begin{array}{l|l}
		(=_{L 3})~\vdash A=\lnot\lnot A               &
		\lnot[(\forall x)P(x)]\vdash \exists x:\lnot P(x) \\
		\begin{nd}
			\hypo{1}{}
			\open
			\hypo{2}{A}
			\open
			\hypo{3}{\lnot A}
			\have{4}{\bot}\bi{2,3}
			\close
			\have{5}{\lnot\lnot A}\ni{3-4}
			\close
			\have{6}{A\implies\lnot\lnot A}\ii{2-5}
			\open
			\hypo{7}{\lnot\lnot A}
			\open
			\hypo{8}{\lnot A}
			\have{9}{\bot}\bi{7,8}
			\close
			\have{10}{A}\ne{8-9}
			\close
			\have{11}{\lnot\lnot A\implies A}\ii{8-10}
			\have{12}{A=\lnot\lnot A}\by{$=_{L 2}$}{6,11}
		\end{nd} &
		\begin{nd}
			\hypo{1}{\lnot[(\forall x)P(x)]}
			\open
			\hypo{2}{\lnot[\exists x:\lnot P(x)]}
			\have{3}{(\forall x)\lnot\lnot P(x)}\by{$\lnot\exists$}{2}
			\open[t]
			\hypo{4}{}
			\have{5}{\lnot\lnot P(t)}\Ae{3}
			\have{6}{P(t)=\lnot\lnot P(t)}\by{$=_{L 3}$}{}
			\have{7}{P(t)}\by{$=$E}{5,6}
			\close
			\have{8}{(\forall x)P(x)}\Ai{4-7}
			\have{9}{\bot}\bi{1,8}
			\close
			\have{10}{\exists x:\lnot P(x)}\ne{2-8}
		\end{nd}
	\end{array}
\]

\pagebreak

\section{Теория множеств}

Введём новый символ --- $\in$. ${x\in S}$ означает, что $x$ лежит в множестве $S$.
Отметим, что такие словесные интерпретации выражений не обязательны и не имеют
значения для формальной системы. Для неё формулы это просто строки,
которые можно преобразовывать по определённым правилам.

До этого мы обращались только с одним {\it родом} переменных --- формулой.
То есть всякая переменная обозначала формулу, но теперь мы вводим новый род
переменных --- {\it множество}.

Расширим понятие формулы: если $\gamma$ --- переменная, а $S$ --- множество\footnote{
	То есть род переменной $S$ --- множество.
},
то $\gamma\in S$ --- формула. Если $\alpha$ и $\beta$ --- переменные одного рода,
то $\alpha=\beta$ --- формула.

Например: Пусть $S$ --- множество, а $x$ --- переменная, тогда
$x\in S$ --- формула, $\lnot(x\in S)$ (также обозначается как $x\notin S$) --- формула,
как и $(\forall x)\lnot(x\in S)$.

Введём обозначения:
\newcommand\eset{\varnothing}
\begin{enumerate}
	\item{}$\eset$ --- {\it пустое множество}, для него выполняется аксиома
	${(\forall x)x\notin\eset}$, из которой выводится закон
	$\eset_1$: $\vdash t\notin\eset$.

	\item{}$A\subseteq B:=(\forall x)(x\in A\implies x\in B)$,
	из чего доказуемы законы

	\begin{tabular}{rl|rl}
		($\subseteq_1$) & $t\in A,A\subseteq B\vdash t\in B$                      &
		($\subseteq_2$) & $(\forall x)(x\in A\implies x\in B)\vdash A\subseteq B$
	\end{tabular}

	\item{}$A\cap B$ --- {\it пересечение} множеств $A$ и $B$. Введём аксиому:
	\[
		(\forall x)[x\in A\cap B\iff (x\in A\land x\in B)]
	\]

	Из которой доказуем закон $\cap_1$: $t\in A\cap B\dashv~\vdash t\in A\land t\in B$.

	\item{}$A\cup B$ --- {\it объединение} множеств $A$ и $B$. Введём аксиому:
	\[
		(\forall x)[x\in A\cup B\iff (x\in A\lor x\in B)]
	\]

	Из которой доказуем закон $\cup_1$: $t\in A\cap B\dashv~\vdash t\in A\lor t\in B$.
\end{enumerate}

Введём понятие равенства {\it первой аксиомой ZFC:}
\[
	(\forall X)(\forall Y)[(\forall z)(z\in X\iff  z\in Y)\implies X=Y]
\]

Тогда для множеств $A$ и $B$ справелив закон $=_{S 1}$:\\
$(\forall z)(z\in A\iff z\in B)\vdash A=B$:
\[
	\begin{nd}
		\hypo{1}{(\forall z)(z\in A\iff z\in B)}
		\have{2}{(\forall X)(\forall Y)[(\forall z)(z\in X\iff  z\in Y)\implies X=Y]}
		\by{AI}{}
		\have{3}{(\forall Y)[(\forall z)(z\in A\iff  z\in Y)\implies A=Y]}\Ae{2}
		\have{4}{(\forall z)(z\in A\iff z\in B)\implies A=B}\Ae{3}
		\have{5}{A=B}\ie{1,4}
	\end{nd}
\]

Докажем закон $=_{S 2}$: $A\subseteq B, B\subseteq A\vdash A=B$.
\[
	\begin{nd}
		\hypo{1}{A\subseteq B}
		\hypo{2}{B\subseteq A}
		\open[t]
		\hypo{6}{}
		\open
		\hypo{7}{t\in A}
		\have{8}{t\in B}\by{$\subseteq_1$}{1,7}
		\close
		\have{9}{t\in A\implies t\in B}
		\open
		\hypo{10}{t\in B}
		\have{11}{t\in A}\by{$\subseteq_1$}{2,10}
		\close
		\have{12}{t\in B\implies t\in A}
		\have{13}{t\in A\iff t\in B}\by{$\ruleEquiv_2$}{9,12}
		\close
		\have{14}{(\forall z)(z\in A\iff z\in B)}\Ai{6-13}
		\have{15}{A=B}\by{$=_{S 1}$}{14}
	\end{nd}
\]

{\it Теорема:}
Пусть $S$ --- множество, тогда $S=S\cap S$.

	{\it Доказательство:}
\[
	\begin{nd}
		\hypo{1}{}
		\open[t]
		\hypo{3}{}
		\open
		\hypo{4}{t\in S}
		\have{5}{t\in S\land t\in S}\ai{4}
		\have{6}{t\in S\cap S}\by{$\cap_1$}{5}
		\close
		\have{7}{t\in S\implies t\in S\cap S}\ii{4-6}
		\open
		\hypo{8}{t\in S\cap S}
		\have{9}{t\in S\land t\in S}\by{$\cap_1$}{7}
		\have{10}{t\in S}\ae{9}
		\close
		\have{11}{t\in S\cap S\implies t\in S}
		\have{12}{t\in S\iff t\in S\cap S}\by{$\ruleEquiv_2$}{7,11}
		\close
		\have{13}{(\forall x)(x\in S\iff x\in S\cap S)}\Ai{3-12}
		\have{14}{S=S\cap S}\by{$=_{S 1}$}{13}
	\end{nd}
\]

\pagebreak

Докажем теорему, обещанную в самом начале главы:

{\it Теорема:} Пусть $A$ --- множество, причём
${(\forall x)(x\in A\iff x=a)}$\footnote{
	Объясните, почему это означает, что $A=\{a\}$.
}, и $B\subseteq A$, тогда $B=\eset\lor B=A$.

Для начала докажем {\it леммы}\footnote{Лемма --- теорема, созданная
	для доказательства теоремы. Часто большие доказательства разбиваются
	на леммы для понятности.}:
\[
	\begin{array}{l}
		\text{(LM1)}~\lnot(\exists x:x\in B)\vdash B=\eset \\
		\begin{nd}
			\hypo{4}{\lnot(\exists x:x\in B)}
			\have{5}{(\forall x)~x\notin B}\by{$\lnot\forall$}{4}
			\open[t]
			\hypo{6}{}
			\open
			\hypo{7}{t\in B}
			\have{8}{t\notin B}\Ae{5}
			\have{9}{\bot}\bi{7,8}
			\have{10}{t\in \eset}\be{9}
			\close
			\have{11}{t\in B\implies t\in \eset}\ii{7-10}
			\open
			\hypo{12}{t\in\eset}
			\have{13}{t\notin\eset}\by{$\eset_1$}{}
			\have{14}{\bot}\bi{12,13}
			\have{15}{t\in B}\be{14}
			\close
			\have{16}{t\in \eset\implies t\in B}\ii{12-15}
			\have{17}{t\in B\iff t\in \eset}\by{$\ruleEquiv_2$}{11,16}
			\close
			\have{18}{(\forall x)(x\in B\iff x\in \eset)}\Ai{6-17}
			\have{19}{B=\eset}\by{$=_{S 1}$}{18}
		\end{nd}
	\end{array}
\]
\[
	\begin{array}{l}
		\text{(LM2)}~[(\forall x)(x\in A\iff x=a)],[t\in A]\vdash t=a\\
		\begin{nd}
			\hypo{1}{(\forall x)(x\in A\iff x=a)}
			\hypo{2}{t\in A}
			\have{3}{t\in A\iff t=a}\Ai{1}
			\have{4}{t=a}\by{$\ruleEquiv_3$}{2,3}
		\end{nd}
	\end{array}
\]

\pagebreak

Наконец, докажем теорему:
\[
	\begin{nd}
		\hypo{1}{(\forall x)(x\in A\iff x=a)}
		\hypo{2}{B\subseteq A}
		\have{3}{(\exists x:x\in B)\lor\lnot(\exists x:x\in B)}\by{EM}{}
		\open
		\hypo{4}{\lnot(\exists x:x\in B)}
		\have{5}{B=\eset}\by{LM1}{4}
		\have{6}{B=\eset\lor B=A}\oi{5}
		\close
		\open
		\hypo{7}{\exists x:x\in B}
		\open[t]
		\hypo{8}{t\in B}
		\have{9}{t\in A}\by{$\subseteq_2$}{2,8}
		\have{11}{t=a}\by{LM2}{1,9}
		\have{12}{a\in B}\by{$=$E}{8,11}
		\close
		\have{13}{a\in B}\Ee{7,8-12}
		\open[t] 
		\hypo{14}{}
		\open
		\hypo{15}{t\in A}
		\have{16}{t=a}\by{LM2}{1,15}
		\have{17}{t\in B}\by{$=$E}{13,16}
		\close
		\have{18}{t\in A\implies t\in B}
		\close
		\have{19}{(\forall x)(x\in A\implies x\in B)}\Ai{14-18}
		\have{20}{A\subseteq B}\by{$\subseteq_2$}{19}
		\have{21}{B=A}\by{$=_{S 2}$}{2,20}
		\have{22}{B=\eset\lor B=A}\oi{21}
		\close
		\have{23}{B=\eset\lor B=A}\oe{3,4-6,7-22}
	\end{nd}
\]
