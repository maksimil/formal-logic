\part{Вывод теорем}

\section{Формальная система}

Совокупность правил называется {\it формальной системой}, если выполняются следующие
условия:
\begin{enumerate}
	\item{}Задан {\it алфавит} для составления {\it выражений}.
	\item{}Определено понятия {\it формулы}.
	\item{}Задана совокупность формул, называемых {\it аксиомами}.
	\item{}Заданы правила вывода {\it теорем}.
\end{enumerate}

Формула, выводимая из аксиом называется {\it теоремой}.

\newcommand\ruleR{\mathbf{R}}
\newcommand\ruleC{\mathbf{C}}

Например, можем составить следующую формальную систему:
\begin{enumerate}
	\item{}Алфавит: $a$, $b$, $c$.
	\item{}Всякое непустое выражение является формулой.
	\item{}Аксиомы: $aab$, $c$.
	\item{}Правила вывода:
	\begin{enumerate}
		\item[($\ruleR$)]{}Из формулы можно убрать один символ.
		\item[($\ruleC$)]{}Если формула $A$ содержит только символы $a$ и $b$,
		а формула $C$ содержит только символы $c$, то можно
		вывести $AC$.
	\end{enumerate}
\end{enumerate}

Если формула $T$ выводима из формул $A_1,A_2,...,A_{n}$, то пишут
$A_1,A_2,...,A_{n}\vdash T$. Если $A_1,A_2,...,A_{n}\vdash T$ по правилу вывода $r$,
то можно написать $A_1,A_2,...,A_{n}\vdash_{r} T$.
\[
	aab\vdash_{\ruleR} ab\qquad
	ab\vdash_{\ruleR} b\qquad
	aab\vdash_{\ruleR,\ruleR} b\qquad
	b,c\vdash_{\ruleC}bc
\]

То есть $ab$, $b$ и $bc$ являются теоремами.

В общем случае формальные системы не обращаются с понятиями ``истины'' и ``лжи'',
они обращаются с понятиями ``выводимости''. Но для удобства определим формулу
как {\it истинную}, если она является аксиомой или теоремой\footnote{
	Если $F$ --- истинная формула, то её истинность исходит из
	определения формальной системы, поэтому такие $F$ принято называть тавтологиями.
}.

Теперь сформулируем формальную систему, в которой мы будем работать.
Алфавит и понятие формулы уже определены. Пусть $\top$~---~аксиома,
а $S\vdash T$ тогда и только тогда, когда ${S\implies T}$.
Тогда тавтологии из первой главы будут истинными
утверждениями\footnote{Имеется в виду истинными в фомальной системе,
	а не принимающими значение $\top$.}, потому что если $A$ --- тавтология,
то ${\top\implies A}$, а значит $\top\vdash A$ и $A$ --- теорема.

\pagebreak

Для кванторов вводятся свои правила вывода. Такие правила для произвольного
символа $\lambda$ обозначаются так: $\lambda$I --- {\it правило
введения}, $\lambda$E --- {\it правило исключения (использования)}\footnote{
	I --- Introduction, введение.

	E --- Elimination, исключение.
}.

\newcommand\Aii{$\forall$I}
\newcommand\Aee{$\forall$E}
\newcommand\Eii{$\exists$I}
\newcommand\Eee{$\exists$E}
\begin{enumerate}
	\item[(\Aii)]{}Из ``для произвольного $t$ выводимо $P(t)$''
	выводимо $(\forall x)P(x)$.
	\item[(\Aee)]{}$(\forall x)P(x)\vdash P(t)$, где $t$ --- произвольная переменная.
	\item[(\Eii)]{}$P(t)\vdash [\exists x:P(x)]$
	\item[(\Eee)]{}$[\exists x:P(x)], [(\forall x)(P(x)\implies C)]\vdash C$
\end{enumerate}

Что интересно, теперь мы можем доказать законы отрицания кванторов,
которые мы вводили как определения.

\phantomsection\label{wordproof}
{\it Теорема:}
$(\forall x)P(x)\implies \lnot[\exists x:\lnot P(x)]$

{\it Доказательство:}

Предположим $(\forall x)P(x)$ и $\exists x:\lnot P(x)$.

Возьмём произвольное $t$. $P(t)$ по \Aee. Тогда $\lnot P(t)\implies\bot$.

По \Aii{} можно сделать вывод $(\forall x)(\lnot P(x)\implies\bot)$.
Тогда по \Eee{} из предположения ${\exists x:\lnot P(x)}$ можно вывести $\bot$,
значит оно неверно и из предположения $(\forall x)P(x)$
можно вывести $\lnot[\exists x:\lnot P(x)]$.

Можем сделать вывод, что $(\forall x)P(x)\implies \lnot[\exists x:\lnot P(x)]$.
\qed\footnote{$\qed$ означает ``что и требовалось доказать''.}

Обычно для доказательств достаточно интуитивно понимать кванторы,
но важно знать, откуда эта интуиция берётся.

Благодаря формальной системе мы можем работать с понятиями выводимости
и истинности, а также вводить аксиомы.

Важно понимать связь между понятием истины в формальных системах
и эмпиричной истины\footnote{Эмпиризм --- метод познания через ощущение (наблюдение).}.
Физики подбирают аксиомы (постулаты),
из которых выводимы теоремы (законы), соответствующие наблюдениям.
Они подгоняют истину формальной системы к эмпиричной истине.

Математики же
в большинстве областей подгоняют формальную систему,
чтобы она соответствовала интуитивной логике (система, которую мы сформулировали),
что не всегда получается: понятие ``импликации'' в математике не совпадает
с понятием ``следствия'' интуитивной логики, потому что следствие
нередко подразумевает причинно-следственную
связь, импликация же такой связи не подразумевает (например, ${p\implies(q\implies p)}$).

	{\it Упражнения:}

\begin{enumerate}
	\item{}Обосновать правила вывода кванторов.

	\item{}*Сформулировать правила $\land$I, $\land$E.
\end{enumerate}

\pagebreak

\section{Элементы теории множеств}

Рассмотрим примеры доказательств в теории множеств.

{\it Множество} --- совокупность значений, называемых {\it элементами множества}.
Логическое утверждение $x\in S$ означает ``$x$ --- элемент множества $S$''.

Введём новые значения переменных: все множества $S$, для которых для
всякого значения $x$ логическое утверждение ${x\in S}$ имеет определённое
значение\footnote{Существуют и другие способы определить
	понятие множества, например аксиомы ZFC. Я сильно реккомендую
	хотя бы ознакомиться с ними после прочтения книги.}.
Если $S$ содержит только элементы $a_1,a_2,...$, то пишут $S=\{a_1,a_2,...\}$.
$\varnothing:=\{\}$.

Определим следующие понятия для множеств\footnote{Заметьте схожесть между операциями
	над множествами и логическими операциями.}:
\begin{enumerate}
	\item{}$A$ --- подмножество $B$ (${A\subseteq B}$ или $B\supseteq A$) означает
	\[
		(\forall x)~x\in A\implies x\in B
	\]

	\item{}Множества $A$ и $B$ равны ($A=B$) тогда и только тогда, когда
	$A\subseteq B\land B\subseteq A$.
	То есть множество определяется его элементами и ничем более\footnote{
		В целом, если для двух значений определено понятие равненства,
		то имеется в виду, что значение такого рода определяется только этими
		свойствами.

		Например, следующее утверждение для векторов:
		\[
			\vec{a}=\vec{b}\iff\left[|\vec{a}|=|\vec{b}|\land
				\vec{a}\upuparrows\vec{b}\right]
		\]

		Означает, что вектор определяется длиной (модулем) и направлением.
	}.

	\item{}Пересечение множеств $A$ и $B$ --- такое множество $A\cap B$, что
	\[
		(\forall x)~x\in A\cap B\iff(x\in A\land x\in B)
	\]

	\item{}Объединение множеств $A$ и $B$ --- такое множество $A\cup B$, что
	\[
		(\forall x)~x\in A\cup B\iff (x\in A\lor x\in B)
	\]

	\item{}Разность множеств $A$ и $B$ --- такое множество $A\setminus B$, что
	\[
		(\forall x)~x\in A\setminus B\iff (x\in A\land \lnot(x\in B))
	\]
\end{enumerate}

{\it Теорема:} если $S$ --- множество, то $S\cap S=S$\footnote{
	Технически, ``если $S$ --- множество'' можно опустить, но если
	мы введём $\cap$ например, для чисел, то это уточнение станет необходимым.
}.

{\it Доказательство:}

$S\cap S=S$ тогда и только
тогда, когда ${(\forall x)(x\in S\cap S\iff x\in S)}$,
значит это утверждение и нужно доказать.

Возьмём произвольное $t$. Предположим $t\in S\cap S$.
\[
	t\in S\cap S\implies (t\in S\land t\in S)\implies t\in S
\]

То есть $t\in S\cap S\implies t\in S$\footnote{Используется
	тавтология
	\[
		[p\implies q]\land[q\implies t]\implies [p\implies t]
	\]
}.

Предположим $t\in S$.
\[
	t\in S\implies (t\in S\land t\in S)\implies t\in S\cap S
\]

То есть $t\in S\implies t\in S\cap S$ и $t\in S\iff t\in S\cap S$.

По \Aii{} можем вывести $(\forall x)(x\in S\iff x\in S\cap S)$.\qed

\pagebreak

У большинства доказательств следующие шаги:
\begin{enumerate}
	\item{}Раскрыть определения, чтобы выяснить, какое утверждение нужно доказать.
	\item{}Применить логические операции и преобразования, чтобы вывести это утверждение.
	\item{}Если застряли, попробовать доказать от обратного.
\end{enumerate}

{\it Упражнения:}
\begin{enumerate}
	\item{}Доказать следующие утверждения для всяких множеств $R,S,T$
	\begin{enumerate}
		\item{}$S\cup S=S$
		\item{}$R\cap (S\cup T)=(R\cap S)\cup (R\cap T)$
		\item{}$S\cap (S\cup T)=S\cup (S\cap T)=S$
		\item{}$R\subseteq T\implies R\cup (S\cap T)=(R\cup S)\cap T$
	\end{enumerate}

	\item{}Доказать, что для множеств $A$ и $B$ следующие утверждения эквивалентны:
	\[
		A\subseteq B\qquad A\cup B=B\qquad A\cap B=A
		\qquad (\forall x)~\lnot(x\in A\setminus B)
	\]
	\item{}Обосновать альтернативное определение пустого множества:
	\[
		(\forall x)\lnot(x\in \varnothing)
	\]

	Как можно схожим образом определить множества $\{a\}$, $\{a,b\}$,
	$\{a_1,a_2,...,a_{n}\}$?
	\item{}*Возьмём совокупность множеств $U=\{U_{1},U_{2},...\}$.
	Как можно определить объединение, пересечение всех множеств в совокупности?
	Как это сделать, если $U$ бесконечно?
\end{enumerate}

\section{Аксиомы Пеано}

Рассмотрим пример системы\footnote{
	Система, совокупность и набор --- синонимы, а множество --- более формальное
	понятие, обычно определённое аксиомами ZFC.
} аксиом, определяющей натуральные числа: {\it аксиомы Пеано}.

\newcommand\N{\mathbb{N}}
Множество $\N$ с функцией следования $\sigma$\footnote{$\sigma(x)$ нельзя определить
	как $x+1$, потому что операция сложения не была введена.},
определённой для всякого $x\in\N$
называется {\it множеством натуральных чисел}, если для него
выполняются {\it Аксиомы Пеано}:
\begin{enumerate}
	\item{}$1\in \N$
	\item{}$x\in\N\implies \sigma(x)\in\N$
	\item{}$(\forall x\in\N)~\sigma(x)\neq 1$
	\item{}$(\forall a,b\in\N)(\sigma(a)=\sigma(b)\implies a=b)$
	\item{}$P(1)\land [(\forall n\in\N)~(P(n)\implies P(\sigma(n)))]
		\implies(\forall n\in\N)~P(n)$\footnote{На этой аксиоме основаны
		доказательства по индукции.}
\end{enumerate}

\pagebreak

Введём существование такого множества как аксиому, а
все его элементы как
возможные значения для переменных\footnote{Множество натуральных чисел можно
	получить и из множеств:
	\[
		1:=\{\varnothing\}\qquad\sigma(x):=x\cup \{x\}
	\]
	\[
		\N:=\{1,\sigma(1),...\}
	\]

	Существование такого множества следует из
	аксиомы бесконечности ZFC (см. в интернете).}.

Обозначим за $F(n)$ следующее утверждение: ${n\in\N}$ можно представить как
$n=\sigma(\sigma(...\sigma(1)))$, причём это выражение конечно.

{\it Теорема:} $(\forall n\in\N)~F(n)$.

	{\it Доказательство:}

$1\in\N$ можно представить как $1$, значит $F(1)$.

Возьмём произвольное $n$ и предположим $F(n)$, тогда $\sigma(n)$ тоже
представимо в виде $\sigma(\sigma(...\sigma(1)))$, то есть $F(\sigma(n))$.

По \Aii{} можем вывести $(\forall n\in\N)(F(n)\implies F(\sigma(n)))$.

Применим аксиому $4$ и выведем $(\forall n\in\N)~F(n)$.\qed

{\it Упражнения:}
\begin{enumerate}
	\item{}Доказать $(\forall n\in\N)~1<n\lor n=1$, если $<$ определено как
	\begin{enumerate}
		\item{}$(\forall a\in\N)~a<\sigma(a)$
		\item{}$(\forall a,b,c\in\N)~(a<b\land b<c)\implies a<c$
	\end{enumerate}
	\item{}Доказать $a<b\land b<a\implies a<a$\footnote{
		Заметьте, что в данном случае $<$ не соответствует вам известному понятию $<$,
		введённому в школе.
	}.
	\item{}*Определить операцию сложения двух натуральных чисел.
	\item{}*Определить операцию умножения двух натуральных чисел.
\end{enumerate}
