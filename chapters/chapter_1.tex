\part{Предисловие}

Данная книга стремится доступно сформулировать логическую систему,
которая может быть использована для изучения математики, строгого
формулирования доказательств и понимания математических утверждений.
Проблема, с которой сталкиваются некоторые первокурсники это попытки
интуитивно понимать теоремы и определения. С таким подходом невозможно
научиться обращаться с неинтуитивными
понятиями\footnote{Например, бесконечные множества, Аксиома Выбора.}.
Нередко утверждение может показаться верным интуитивно,
но оказаться ложным.

В данной книге достаточно много сносок, что не значит, что их
не нужно читать\footnote{Они содержат важные оговорки,
	улучшающие понимание материала.}.

Надеюсь, что после прочтения данной книги вы сможете работать с логическими
утверждениями и формулировать строгие доказательства\footnote{Под словом ``строгий''
	имеется в виду не имея шагов, обоснованных лишь интуитивно.}. В качестве практики
после некоторых глав предложены упражнения. Упражнения с повышенной сложностью
отмечены *.

По всем вопросам обращайтесь по адресу {\sl kksenya758@gmail.com}.

\part{Основные понятия}

\section{Логические утверждения}

Центральным понятием в математике является логическое утверждение,
определим это понятие.

Для начала введём {\it алфавит}, на котором эти утверждения будут записаны.
Он будет состоять из следующих компонентов:
\begin{enumerate}
	\item{}{\it Переменных} --- букв латинского, греческого алфавита,
	иврита, арабских цифр и так далее, принимающих {\it значения}.
	Значениями могут быть множества, числа и прочее\footnote{Обычно значения
		являются неопределимыми понятиями, то есть они ``просто есть''. Их смысл
		проявляется в том, как они относятся друг к другу через операции.}.
	\item{}{\it Специальных символов}, которые связывают переменные:
	логические операции, операции сравнения, скобки и прочее.
\end{enumerate}

Пусть переменная $p$ имеет значение $\xi$, тогда можно записать $p=\xi$. Если переменные
$p$ и $q$ имеют одно значение, то $p=q$.

Введём следующие два значения, которые могут принимать
переменные: правда ($\top$) и ложь ($\bot$), также введём логические
операции\footnote{Обратите внимание на определение импликации, потому что оно
	скорее всего отличается от определения, которое вам давали в школе.}:
\begin{enumerate}
	\item{}И ($\land$): $p\land q$ верно означает ``$p$ и $q$
	верны''\footnote{Слово ``верно'' может быть опущено: $p\land q$
		означает ``$p$ и $q$''.}.

	\begin{tabular}{c|cc}
		$\land$ & $\top$ & $\bot$ \\\hline
		$\top$  & $\top$ & $\bot$ \\
		$\bot$  & $\bot$ & $\bot$
	\end{tabular}

	\pagebreak

	\item{}Или ($\lor$): $p\lor q$ означает ``$p$ или $q$''.

	\begin{tabular}{c|cc}
		$\lor$ & $\top$ & $\bot$ \\\hline
		$\top$ & $\top$ & $\top$ \\
		$\bot$ & $\top$ & $\bot$
	\end{tabular}

	\item{} Отрицание ($\lnot$): $\lnot p$ означает ``не $p$''.

	$\lnot\top:=\bot$, $\lnot\bot:=\top$

	$:=$ означает ``определено как'' или ``равно по определению''.

	\item{}Следствие, импликация (${\implies}$): ${p\implies q}$ означает
	``из $p$ следует $q$'', ``$q$ всякий раз, когда $p$'', ``для $q$ {\it достаточно} $p$``,
	``для $p$ {\it необходимо} $q$''.

	$(p\implies q):=(\lnot p)\lor q$\footnote{см. урпажнение~\ref{ex:imply_def}.}

	\item{}Равносильность, эквивалентность (${\iff}$):
	${p\iff q}$, если ``$q$ тогда и только
	тогда, когда $p$''

	$(p\iff q):=(p\implies q)\land (q\implies p)$
\end{enumerate}

Каждой операции дан её аналог на русском языке, но в доказательствах
должны быть использованы формальные определения.

{\it Выражение} --- всякая последовательность символов алфавита. Существует совокупность
выражений, которые ``имеют смысл'', называемых {\it формулами}.
Со значениями $\top$, $\bot$
и операциями $\land$, $\lor$, $\lnot$, $\implies$, $\iff$ формулу можно
определить следующим образом:
\begin{enumerate}
	\item{}Всякая переменная является формулой.
	\item{}Если выражения $A$ и $B$ --- формулы, то следующие выражения
	тоже являются формулами:
	\[
		A\land B\qquad A\lor B\qquad \lnot A\qquad A\implies B\qquad A\iff B
	\]
\end{enumerate}

При введении новых значений и специальных символов это определение
должно быть уточнено. Так, если мы введём числo $1$
как возможное значение переменной, то $1$ является формулой, потому что символ $1$
можно интерпретировать как переменную, всегда имеющую значение $1$, но выражение
$1\land 1$ не является формулой, потому что оно не имеет смысла\footnote{Заметим,
	что $1$ в данном случае сложно называть целым числом, потому что операция сложения
	не была введена. Смысл целых чисел заключается в операциях над ними, а не в том, что мы
	используем арабские цифры для их записи.}.

Выражение может являться формулой только при некоторых значениях
переменных. Такие значения называются {\it допустимыми}.

Рассмотрим формулу ${A:=(p\implies q)}$. $p$ и $q$ называются {\it свободными
переменными}\footnote{Отличие их от связанных переменных будет объяснено позже.},
их допустимые значения это $\top$ и $\bot$.

	{\it Значением формулы} при определённых значениях свободных переменных называется
результат операций, содержащихся в формуле.
Формулы равны, если они имеют одно значение\footnote{$p\land q=p\lor q$ если $p=q=\top$.}.

{\it Логическое утверждение} --- формула, принимающая значение $\top$ или $\bot$
при любых допустимых значениях свободных переменных.

{\it Тавтология} --- логическое утверждение, принимающее значение $\top$ при
любых допустимых значениях свободных переменных.

{\it Упражнения:}

\begin{enumerate}
	\item{}Показать, что следующие утверждения --- тавтологии
	\begin{enumerate}
		\item{}$\top$\footnote{Символ $\top$ по этой причине называется
			символом элементарной тавтологии.}
		\item{}$p\lor (\lnot p)$ --- закон исключённого третьего
		\item{}$(p\land p)\iff p$
		\item{}$(p\land (p\implies q))\implies q$ --- modus ponens
		\item{}$\lnot(p\lor q)\iff (\lnot p)\land (\lnot q)$ --- закон Де Моргана
		\item{}$(\lnot(p)\land p)\iff\bot$\footnote{Символ $\bot$ по этой причине называется
			символом элементарного противоречия.}
		\item{}$p\implies (q\implies p)$
		\item{}${(p\implies q)\iff ((\lnot q)\implies (\lnot p))}$
		\item{}$(\lnot(p)\implies\bot)\implies p$\footnote{На этой тавтологии основаны
			доказательства от противного: если из $\lnot S$ мы можем прийти
			к противоречию, то $S$.}
	\end{enumerate}
	\item{}Показать, что если $A$ --- тавтология и $(A\implies B)$, то $B$.
	\item{}Объяснить, почему запись $p=q$ для двух логических утверждений $p$ и $q$
	означает то же самое, что и $(p\iff q)=\top$.
	\item{}\label{ex:imply_def}Обосновать определение ${p\implies q}$ и использование
	слов ``необходимость'' и ``достаточность''.
	\item{}*Определить понятие формулы для системы, в которой значения это целые числа,
	а специальные символы это $+$, $-$.
	\item{}*Определить понятие формулы для системы, в которой значения это $\top$, $\bot$
	и натуральные числа, а специальные символы это $\land$,  $+$.
\end{enumerate}

\section{Предикаты и кванторы}

Если $P$ --- логическое утверждение со свободными переменными $a_1,...,a_{n}$,
оно называется {\it предикатом} и обозначается $P(a_1,...,a_{n})$. Переменные
в скобках называются {\it аргументами} предиката, причём не все свободные
переменные должны быть аргументами.

Например, рассмотрим предикат ${E(x):=(x\iff y)}$\footnote{Он принимает
	значение $\top$ тогда и только тогда, когда $x\iff y$.}. В нём
$x$ и $y$ --- свободные переменные, но только
$x$ --- аргумент.

Предикаты можно рассматривать как шаблоны логических утверждений.

Если $P(x)$ верно для всякого допустимого значения $x$\footnote{$P(x)$ не обязательно
	является тавтологией, потому что $x$ может быть не единственной
	свободной переменной $P$.}, пишут
\[
	(\forall x)~P(x)
\]

$\forall$ --- {\it квантор всеобщности}.

\pagebreak

Если существует такое значение $x$, что $P(x)$, пишут
\[
	\exists x:P(x)
\]

$\exists$ --- {\it квантор существования}. Знак ``$:$'' читается как ``такой, что''.

Расширим понятие формулы, чтобы оно включало выражения с кванторами.
Пусть если $A$ --- формула, $\gamma$ --- переменная,
то следующие выражения тоже являются формулами:
$(\forall \gamma)A$, ${\exists \gamma:A}$.

Значит выражение
$(\forall x)P(x,y)$ является формулой, поэтому выражение
$(\forall y)(\forall x)P(x,y)$ тоже является формулой.
То есть в одной формуле мы можем использовать несколько кванторов.

Если ${[\exists x:P(x)]\land[(\forall x)(\forall y)(P(x)
				\land P(y)\implies x=y)]}$\footnote{
	Последнее
	условие гарантирует единственность значения $x$, потому что иначе
	могут существовать такие $x$ и $y$, что $x\neq y\land P(x)\land P(y)$.
	В нём использован оператор ``$=$''.
	Формула $x=y$ принимает значение $\top$, если $x$ и $y$ имеют одно значение,
	и $\bot$ --- иначе.}, то пишут
\[
	\exists! x:P(x)
\]

$\exists!$ --- {\it квантор существования и единственности}. Расширим
понятие формулы: пусть если
$A$ --- формула, $\gamma$ --- переменная, то выражение ${\exists!\gamma: A}$
тоже является формулой.

Часто формулы с кванторами сокращают:
\begin{enumerate}
	\item{}Если ${P(x)=[Q(x)\implies R(x)]}$\footnote{Квадратные скобки означают то же самое,
		что и круглые. Они обычно используются, чтобы не запутаться в круглых скобках.},
	то формулу ${(\forall x)P(x)}$ можно сократить
	до ${(\forall x:Q(x))R(x)}$. Читается как ``для всякого $x$ такого, что
	$Q(x)$, $R(x)$''.
	\item{}Формулу $(\forall x:x\prec a)P(x)$ можно сократить до $(\forall x\prec a)P(x)$,
	где вместо $\prec$ могут быть $<$, $>$, $\leq$, $\in$ и прочие.
	\item{}Выражения с одинаковыми кванторами можно объединить:
	выражение $(\forall x)(\forall y)P(x,y)$ можно записать как $(\forall x,y)P(x,y)$,
	а $\exists x:\exists y:P(x,y)$ --- как $\exists x,y:P(x,y)$.
	\item{}Скобки вокруг $\forall x$ можно опустить, если после него следует $\exists$ или
	выражение в скобках.
	То есть ${(\forall \varepsilon)\exists \delta:P(\varepsilon,\delta)}$
	можно сократить до $\forall \varepsilon~\exists \delta:P(\varepsilon,\delta)$,
	а $(\forall x)(x=x)$ до $\forall x(x=x)$.

	Некоторые авторы опускают ``$:$'' после $\exists$ и ставят выражение $\exists x$ в
	скобки: $(\forall a)(\exists b)P(a,b)$.
\end{enumerate}

Для кванторов выполняются следующие {\it законы отрицания}\footnote{Эти законы являются
	частью определения
	кванторов, но их можно обосновать словесно (см. упражнение~\ref{ex:quantor_neg_def}).}:
\[
	\lnot((\forall x)~P(x)):=(\exists x:\lnot P(x))
\]
\[
	\lnot(\exists x:P(x)):=((\forall x)~\lnot P(x))
\]

Переменная $\gamma$ называется {\it связанной} в формуле $F$, если $F$
содержит выражение $K\gamma$, где $K$ --- квантор.
Переменная $\gamma$ называется {\it свободной}, если она не связанна.
Заметим, что если переменная связанна в формуле, то она не может быть
аргументом предиката.

Если одна переменная связанна в двух различных формулах,
то эти два использования одного символа не связанны, то есть
выражение ${[(\forall x)P(x)]\land[\exists x:Q(x)]}$ означает то же самое, что
и $[(\forall \alpha)P(\alpha)]\land[\exists \beta:Q(\beta)]$.

\pagebreak

Рассмотрим следующую формулу:
\[
	P(q):=[(\forall p)~(p\implies (q\implies p))]
\]

$p$ --- связанная переменная, $q$ --- свободная переменная, а
$P$ является тавтогологией и предикатом.

Символ связанной переменной можно заменить на другой:
\[
	P(q)=[(\forall \chi)~(\chi\implies (q\implies \chi))]
\]

{\it Упражнения:}
\begin{enumerate}
	\item{}Обосновать на основе словесных определений законы отрицания
	кванторов\label{ex:quantor_neg_def}.
	\item{}Записать отрицание утверждения
	\[
		\forall \varepsilon>0~\exists \delta>0:
		(\forall x\in\mathbb{R})~[|x|<\delta\implies |f(x)|<\varepsilon]
	\]

	Где $f$ --- числовая функция, $\mathbb{R}$ --- множество действительных чисел.
	Подразумевается, что $\varepsilon$ и $\delta$ --- действительные числа.
	${(x\in\mathbb{R})}$ --- предикат, принимающий значение $\top$,
	если $x$ --- действительное чило.

	\item{}Показать, что если $P(x)$ --- тавтология, то $(\forall x)P(x)$.

	\item{}В каком случае $(\forall x)P(x)$ означает, что $P(x)$ --- тавтология?

	\item{}*Привести пример выражения без свободных переменных,
	являющегося тавтологией.
\end{enumerate}
